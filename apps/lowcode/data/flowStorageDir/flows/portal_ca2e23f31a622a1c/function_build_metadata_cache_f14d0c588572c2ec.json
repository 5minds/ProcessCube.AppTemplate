{
  "id": "f14d0c588572c2ec",
  "type": "function",
  "z": "ca2e23f31a622a1c",
  "name": "build metadata cache",
  "func": "const cache = {};\n\nconst models = msg.payload.models || [];\n\n// \"engine.setCorrelationMetadata.description\"\n// \"engine.setCorrelationMetadata.progressDescription\"\n// model.flowNodes[2].customProperties\n\nmodels.forEach(function(model) {\n\n    const flowNodes = model.flowNodes || [];\n\n    if (model && model.isExecutable) {\n\n        flowNodes.forEach(function(flowNode) {\n            \n            const processModelId = flowNode.processModelId;\n            const flowNodeId = flowNode.id;\n\n            const key = `${processModelId}_${flowNodeId}`;\n\n            const description = flowNode.customProperties[\"engine.setCorrelationMetadata.description\"];\n            const progressDescription = flowNode.customProperties[\"engine.setCorrelationMetadata.progressDescription\"];\n\n            cache[key] = {\n                description: description,\n                progressDescription: progressDescription\n            };\n        });\n    }\n});\n\nconst socketId = msg._client?.socketId || \"\";\n\nglobal.set(`flownode_cache_${socketId}`, cache);\n\nreturn msg;",
  "outputs": 1,
  "timeout": 0,
  "noerr": 0,
  "initialize": "",
  "finalize": "",
  "libs": [],
  "g": "9d369434a5d404a0",
  "wires": [
    [
      "478570a2cf0a6629"
    ]
  ]
}